channel_name: ""

# Twitch auth is read from environment variables (recommended with docker-compose env_file):
# - TWITCH_CLIENT_ID
# - TWITCH_CLIENT_SECRET
# - TWITCH_REFRESH_TOKEN   (recommended)
# - TWITCH_ACCESS_TOKEN    (optional fallback; not recommended long-term)
# - TWITCH_CHANNEL_NAME    (optional; overrides channel_name above)

# Duel parameters (used by !lw duel).
# All values are optional; defaults match the current hardcoded behavior.
duel:
  hit_chance: 0.65
  speed: 1.15
  attack_range: 1.9
  max_hp: 10
  respawn_delay_seconds: 10

commands:
  # Optional: define chat commands via config (no server restart; reload config).
  # Each binding creates a new !<name> command that runs one or more actions.
  bindings:
    # Example: spawn fireworks near a random player
    # - name: "fireworks"
    #   permission: "everyone"
    #   run_on_main_thread: true
    #   actions:
    #     - type: "player.fireworks"
    #       params:
    #         count: 3
    #         power: 1
    #         allow_random: true

    # Example: heal a specific player and drop items
    # - name: "healme"
    #   permission: "subscriber"
    #   actions:
    #     - type: "player.heal"
    #       params:
    #         target_player: "SomePlayer"
    #         hearts: 4
    #     - type: "player.drop_items"
    #       params:
    #         items:
    #           - type: "GOLDEN_APPLE"
    #             amount: 2

# Optional: Channel Point Redeems -> plugin handlers
#
# How it works:
# - You create a Channel Point Reward in Twitch.
# - Put its reward_id (recommended) or reward_title below.
# - Set a handler key (see the built-in list below).
# - Optionally pass params and a per-user cooldown.
redeems:
  enabled: false

  # When true, unmatched redeems are logged to console (helps you find reward_id/title).
  log_unmatched: true

  # Bindings are checked top-to-bottom; the first match wins.
  bindings:
    # Example: spawn the redeemer's NPC at the spawn point
    # - reward_id: "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
    #   handler: "npc.spawn"
    #   cooldown_ms: 0
    #   params:
    #     message: "@{user} spawned their NPC!"

    # Example: make all Twitch NPCs aggro a random online player
    # - reward_title: "NPC AGGRO"
    #   handler: "npc.aggro"
    #   cooldown_ms: 10000
    #   params:
    #     seconds: 30

    # Example: make all Twitch NPCs attack a random online player
    # - reward_title: "NPC ATTACK"
    #   handler: "npc.attack"
    #   cooldown_ms: 15000
    #   params:
    #     seconds: 30
    #     hearts_per_hit: 1.0

    # Example: send a message to Twitch chat
    # - reward_title: "SAY HI"
    #   handler: "chat.say"
    #   params:
    #     message: "Thanks @{user}! You redeemed {reward}."

    # Example: run multiple in-game actions on redeem
    # - reward_title: "FIREWORKS + RAIN"
    #   run_on_main_thread: true
    #   actions:
    #     - type: "player.fireworks"
    #       params:
    #         count: 4
    #         power: 1
    #         allow_random: true
    #     - type: "world.weather"
    #       params:
    #         state: "rain"
    #         duration_seconds: 45

    # Example: loot box (spawns a chest near the target player with random items)
    # - reward_title: "LOOT BOX"
    #   run_on_main_thread: true
    #   actions:
    #     - type: "world.loot_chest"
    #       params:
    #         # Optional: who to spawn near; defaults to a random/only online player
    #         # target_player: "SomeMinecraftPlayer"
    #         radius: 6
    #         tries: 24
    #         rolls: 4
    #         name: "Loot Box"
    #         announce: true
    #         # Debug: force deterministic contents
    #         # debug_force_bread_amount: 5
    #         loot:
    #           - type: "DIAMOND"
    #             min_amount: 1
    #             max_amount: 2
    #             weight: 0.3
    #           - type: "GOLD_INGOT"
    #             min_amount: 2
    #             max_amount: 8
    #             weight: 2
    #           - type: "COOKED_BEEF"
    #             amount: 8
    #             weight: 5
